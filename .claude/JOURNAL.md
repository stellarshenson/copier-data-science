# Claude Code Journal

This journal tracks substantive work on documents, diagrams, and documentation content.

**Note**: Entries 1-21 have been archived to [JOURNAL_ARCHIVE.md](JOURNAL_ARCHIVE.md).

---

22. **Task - Unify dev deps across all env managers**: Standardized dev dependency handling based on dependency_file (not environment_manager). requirements.txt uses requirements-dev.txt, pyproject.toml uses `[project.optional-dependencies.dev]`. Updated pyproject.toml template, Makefile (virtualenv and uv create_environment), post_gen_project.py file cleanup, and test expectations. Created ENV_MANAGEMENT.md reference document<br>
   **Result**: All 20 tests pass. Consistent dev deps handling across conda/uv/virtualenv

23. **Task - Enhance environment management**: Fixed create_environment to install both requirements.txt AND requirements-dev.txt when using requirements.txt. Added conditional env_location prompting (only shown for conda). Added explicit file existence tests. Moved documentation to docs/docs/ folder (stellars-philosophy.md, env-management.md). Updated mkdocs.yml nav and README link<br>
   **Result**: All 20 tests pass. Documentation properly organized in docs folder

24. **Task - Template-based dependency management**: Major refactoring of how dependency files are managed. Previously, requirements.txt was dynamically created by `write_dependencies()` in post_gen_project.py. Now all dependency files exist as Jinja templates that get populated during generation and unused ones are deleted. Created new `requirements.txt` template with conditionals for cloud storage (botocore/azure-storage-blob/google-cloud-storage), scaffold packages (loguru/tqdm/typer), and pydata packages (matplotlib/numpy/pandas/scikit-learn). Updated `pyproject.toml` template to include same conditional dependencies in the `[project.dependencies]` section. Removed `write_dependencies()` function and package lists from post_gen_project.py - now handles file deletion only per env-management.md matrix. Updated tests with explicit assertions that files marked "no" in the matrix do NOT exist (requirements.txt for pyproject.toml configs, requirements-dev.txt for pyproject.toml or none env manager, environment.yml for non-conda). Added doc references to `docs/docs/env-management.md` in both post_gen_project.py and test_creation.py so developers can find the authoritative dependency matrix<br>
   **Result**: All 20 tests pass. Templates are now the single source of truth for dependency content. Cleaner separation between template generation and file cleanup

25. **Task - Copier support analysis**: Researched feasibility of making template interoperable with Copier (alternative templating tool). Documented key differences: variable namespace (`{{ cookiecutter.var }}` vs `{{ var }}`), directory naming, hooks vs tasks. Evaluated five approaches: compatibility mode, dual config with namespace alias, Jinja2 extension, build-time generation, and directory rename with computed namespace. Decision: not implementing due to maintenance burden and deep embedding of cookiecutter conventions<br>
   **Result**: Created COPIER_SUPPORT.md documenting analysis, challenges, potential solutions, and rationale for current decision

26. **Task - Fix pyproject.toml dependencies and environment.yml logic**: pyproject.toml was including dependencies section for all projects, but should only include it when `dependency_file = pyproject.toml`. Updated template to wrap dependencies and optional-dependencies sections in conditional. Changed environment.yml logic - now only created when `dependency_file = environment.yml` (future conda-native workflow), not for all conda projects. Updated env-management.md with 7 scenarios matrix clarifying pyproject.toml is always present for metadata/tools but deps section is conditional. Fixed black formatting in monkey_patch.py for CI lint. Updated Makefile create_environment for conda to use `conda create` instead of `conda env create -f environment.yml` when environment.yml doesn't exist. Updated tests to verify environment.yml only exists when `dependency_file == environment.yml`. Fixed CI workflow to verify no environment.yml for conda+pyproject.toml<br>
   **Result**: All 20 tests pass. CI lint passes. Conda environments now created correctly without environment.yml dependency

27. **Task - Add environment.yml as dependency_file option**: Added environment.yml to ccds.json dependency_file choices for conda-native dev dependencies workflow. Updated monkey_patch.py to conditionally show environment.yml option only when conda is selected as environment manager (filtered out for uv/virtualenv/none). Implemented full conda/environment.yml scenario: post_gen_project.py deletes requirements files, pyproject.toml includes prod deps only (no dev section), environment.yml includes all dev deps (ipython, nbdime, ipykernel, mkdocs, pytest, ruff, etc.) via conda-forge. Updated conftest.py to filter out environment.yml tests for non-conda environments<br>
   **Result**: All 24 tests pass. Complete conda/environment.yml workflow implemented per env-management.md matrix

28. **Task - Create env_matrix.py test spec**: Created `tests/env_matrix.py` as single source of truth for environment specification matrix. Module contains `ENV_MATRIX` dict keyed by `(environment_manager, dependency_file)` tuples with `files_present`, `files_absent`, `pyproject_has_deps`, `pyproject_has_dev_deps` for all 7 valid combinations. Provides `get_expected_files(config)` and `get_absent_files(config)` helper functions. Refactored `test_creation.py` to import from env_matrix instead of hardcoding file expectations<br>
   **Result**: All 24 tests pass. Test specifications now centralized in env_matrix.py for maintainability

29. **Task - Unify ENV_NAME and kernel naming**: Unified environment name variable across all managers - replaced `CONDA_ENV_NAME` with `ENV_NAME` at the top of Makefile (works for all env managers). Added `--name` param to nb_venv_kernels for uv/venv environments. Updated ipykernel fallback to use consistent display names matching nb_conda_kernels/nb_venv_kernels convention: `Python [conda env:name]`, `Python [uv env:name]`, `Python [venv env:name]`<br>
   **Result**: All 24 tests pass. Kernel naming now consistent across all environment managers

30. **Task - Clean up .venv on conda local remove**: Updated conda local `remove_environment` target to also remove the `.venv` directory after `conda env remove`. Added consistent success message to both local and global conda environment removal<br>
   **Result**: Conda local teardown now fully cleans up the .venv directory

31. **Task - Cloud storage variables in Makefile**: Moved cloud resource names to Makefile variables instead of inline in commands. Added S3_BUCKET, AWS_PROFILE for S3; AZURE_CONTAINER for Azure; GCS_BUCKET for GCS. Updated sync_data_down and sync_data_up to use these variables. Fixed pytest-cookies plugin interference by adding `-p no:cookies` to pyproject.toml pytest config<br>
   **Result**: Cloud storage config now uses variables for easier maintenance. Test infrastructure fixed. All 24 tests pass

32. **Task - Rewrite stellars-philosophy.md**: Simplified and corrected philosophy doc based on upstream research. Cloned upstream repo and verified actual features: module naming (not src/), env managers (7 vs our 4), dependency files (5 vs our 3), default Python (3.10), virtualenvwrapper usage, no dev deps separation, no kernel registration. Updated comparison table with accurate facts<br>
   **Result**: Philosophy doc now accurate and concise based on verified upstream research

33. **Task - Enhance philosophy doc with emphasis**: Added stronger philosophy statements and GitHub alert blocks (IMPORTANT, TIP, NOTE, WARNING, CAUTION) for emphasis. Removed 'none' from environment manager counts in comparison table (6 vs 3 instead of 7 vs 4). Added explanation for why pipenv/poetry/pixi are intentionally excluded<br>
   **Result**: Philosophy doc now has clearer opinionated stance with visual emphasis

34. **Task - Add model sync targets**: Added `sync_models_down` and `sync_models_up` Makefile targets for syncing models directory with cloud storage (S3, Azure, GCS). Mirrors data sync pattern. Added to .PHONY line<br>
   **Result**: Models can now be synced to/from cloud storage like data

35. **Task - Fix CI test failures**: Fixed three issues causing GitHub Actions test failures: (1) config.py template had import sorting issue - ruff with `force-sort-within-sections = true` requires `from pathlib import Path` before `import sys`, (2) missing blank line after `from tqdm import tqdm` in try block, and trailing blank line at end of file, (3) environment.yml Makefile was trying `pip install -e ".[dev]"` but pyproject.toml doesn't have `[project.optional-dependencies]` section when `dependency_file == environment.yml` - changed to `pip install -e .` since dev deps come from environment.yml itself<br>
   **Result**: All 24 tests pass. config.py properly formatted for ruff. environment.yml workflow correctly installs only the package without expecting dev extras

36. **Task - Add key features table to README**: Added comprehensive comparison table from stellars-philosophy.md to README.md showing differences between upstream ccds and this fork across 12 features: module naming, environment managers, default env manager, dependency files, Python version, conda location, dev deps, Jupyter kernel, environment checks, cloud storage config, model sync, and virtualenv implementation<br>
   **Result**: README now has clear feature comparison table plus bullet point summary of key enhancements

37. **Task - Add clean to build workflow**: Updated Makefile build workflow to ensure clean state before building. Added `clean` as dependency to `install` targets for virtualenv and uv (ensures stale build artifacts removed before editable install). Added `clean` as dependency to `build` targets for all environment managers (virtualenv, uv, conda) ensuring `increment_build_number` runs after clean install. Build order is now: clean -> install -> test -> increment_build_number for consistent versioning<br>
   **Result**: Build workflow now guarantees clean state. All environment managers have consistent build target dependencies

38. **Task - Add .env encryption option**: Added `env_encryption` cookiecutter option for .env file management using OpenSSL AES-256-CBC with PBKDF2. When enabled, adds `.env` and `.env.enc` Makefile targets - `.env` decrypts from encrypted archive if present or creates empty file, `.env.enc` creates encrypted archive. Added `.env` as conditional dependency to all `install` targets so first install triggers decryption. Error handling removes corrupted output on wrong password. Updated README.md and stellars-philosophy.md with new feature in comparison tables and added section 6 documenting secrets management workflow<br>
   **Result**: Secure .env encryption - .env gitignored, .env.enc tracked, `make install` auto-decrypts on fresh clone

39. **Task - Copier template implementation**: Implemented Option 1 (separate copier/ directory) from COPIER_SUPPORT.md analysis. Created build-time generation approach: `copier/scripts/build_copier_template.py` transforms cookiecutter templates to copier format by (1) copying `{{ cookiecutter.repo_name }}/` to `copier/template/`, (2) transforming `{{ cookiecutter.var }}` to `{{ var }}`, (3) flattening nested `dataset_storage` dict to individual variables (s3_bucket, azure_container, gcs_bucket), (4) renaming templated filenames. Created `copier/copier.yml` with all questions mirroring ccds.json, `_templates_suffix: ""` to process all files as Jinja, and `_tasks` passing config via CLI arguments. Created `copier/scripts/copier_post_gen.py` using argparse to receive configuration and perform same cleanup as cookiecutter's hook. Copier tasks don't support `extra_env` for passing environment variables - discovered this limitation and switched to CLI args approach<br>
   **Result**: Template now supports both tools - cookiecutter via main template, copier via `copier/` subdirectory. COPIER_SUPPORT.md updated with usage guide and development workflow

40. **Task - Add Copier tests and answers file**: Created comprehensive test suite for Copier template in `tests/test_copier.py` with 25 tests mirroring cookiecutter tests (24 configuration matrix + 1 answers file test). Uses `copier copy --trust --defaults` with `--data` arguments to test all environment_manager/dependency_file combinations. Tests reuse `env_matrix.py` for file expectations, adding `.copier-answers.yml` as Copier-specific expected file. Created `copier/template/.copier-answers.yml.jinja` using `{{ _copier_answers|to_nice_yaml }}` to record user choices. Updated `copier_post_gen.py` to rename `.copier-answers.yml.jinja` to `.copier-answers.yml` (needed because `_templates_suffix: ""` doesn't strip .jinja extension). Fixed `.ipynb_checkpoints` pollution in template directories. Updated `docs/docs/copier-support.md` with "How Cookiecutter and Copier Work in Tandem" section documenting template synchronization, file generation parity, testing strategy, and technical notes<br>
   **Result**: All 49 tests pass (24 cookiecutter + 25 copier). Both templates produce identical projects. Documentation updated with tandem operation details

41. **Task - Add docs Makefile targets and fix Jinja whitespace**: Added `docs` and `docs_build` Makefile targets for mkdocs documentation (conditional on `docs == 'mkdocs'`). `make docs` runs `mkdocs serve`, `make docs_build` runs `mkdocs build`. Targets support all environment managers - conda uses `conda run`, others use direct commands. Fixed `build_copier_template.py` to preserve Jinja whitespace control characters (`{%-`) - regex was stripping the `-` causing blank lines in shell continuations which broke Makefile `if/fi` blocks. Used capture groups to preserve: `r"\{%([-]?)\s*if"` -> `r"{%\1 if"`. mkdocs dependency was already conditionally included in requirements-dev.txt, pyproject.toml, and environment.yml<br>
   **Result**: All 49 tests pass. Documentation targets available when mkdocs selected. Copier template Makefile works correctly

42. **Task - Rename docs targets and fix mkdocs path**: Renamed Makefile targets for clarity: `docs_build` -> `docs` (build documentation), `docs` -> `docs_serve` (serve locally). Fixed mkdocs config path - was incorrectly using `docs/mkdocs/mkdocs.yml` but post-gen script moves files from `docs/mkdocs/` to `docs/`, so correct path is `docs/mkdocs.yml`. Updated copier.yml to make `environment.yml` dependency_file choice conditional - only shown when `environment_manager == 'conda'`. Archived journal entries 1-21 to JOURNAL_ARCHIVE.md<br>
   **Result**: All 49 tests pass. `make docs` now builds, `make docs_serve` serves locally. Journal archiving implemented

43. **Task - Merge copier to master and update tooling**: Merged `feature/copier-template` branch to `master` via fast-forward (13 commits). Tagged `STABLE_COPIER_IMPLEMENTATION`. Updated README.md with copier usage examples using `-d` flag for pre-filled answers. Discovered copier doesn't support subdirectory paths in Git URLs (`gh:repo//subdir` doesn't work) - must clone repo first then use local path. Updated `/opt/utils/lab-utils.d/new-project.sh` to use copier with local template path, prompting for project name and passing it via `-d project_name`<br>
   **Result**: Copier implementation merged to master. Lab utility script updated for copier-based project scaffolding

44. **Task - Simplify copier documentation**: Consolidated README.md "Starting a new project" section into single code block with comments for both cookiecutter (`ccds`) and copier methods. Fixed isort import ordering in `tests/test_copier.py` (removed blank line between pytest and env_matrix imports). Updated `docs/docs/copier-support.md` with simplified usage instructions. Added copier installation to README Installation section (`pipx install copier`)<br>
   **Result**: Documentation cleaner and more concise. CI lint passes. Both tools have install instructions

45. **Task - Enable direct GitHub URL for copier**: Moved `copier/copier.yml` to repo root so copier can be used directly with GitHub URL without cloning first. Updated `_subdirectory: copier/template` and `_tasks` script path to `copier/scripts/copier_post_gen.py`. Set `project_name` default to `{{ _copier_conf.dst_path.name }}` so it automatically uses destination folder name. Updated README, copier-support.md, test_copier.py, and `/opt/utils/lab-utils.d/new-project.sh`. Tagged `RELEASE_2.3.0-stellars-42`<br>
   **Result**: `copier copy --trust https://github.com/stellarshenson/cookiecutter-data-science.git my-project` now works. All 25 copier tests pass

46. **Task - Auto-derive project_name from folder**: Updated copier.yml to make `project_name` a computed value (`when: false`) instead of a prompted question. Project name is now automatically derived from the destination folder name via `{{ _copier_conf.dst_path.name }}`. Bumped version to `2.3.0+stellars46` and added Stellars Henson as co-author. Created tag `v2.3.0+stellars46`. Updated `/opt/utils/lab-utils.d/new-project.sh` to prompt for project name interactively. Added success message `>>> .env.enc file successfully created` after `make .env.enc` completes<br>
   **Result**: Copier no longer prompts for project name - it's automatically inferred from folder. Script prompts interactively for folder name

47. **Task - Add Docker support**: Added optional Docker support to template with `docker_support` option (default: No). Created `docker/` folder with `Dockerfile` (Python slim base, dependency installation from requirements.txt or pyproject.toml, module code copy, entrypoint execution) and `entrypoint.py` (CLI with run/train/predict commands). Added Makefile variables (`DOCKER_REGISTRY`, `DOCKER_IMAGE_NAME`, `DOCKER_TAG`) and targets (`docker_build`, `docker_push`). Updated `post_gen_project.py` and `copier_post_gen.py` to remove docker/ folder when not selected. Fixed test for copier answers file (project_name no longer included due to `when: false`). Created `/release` command in `.claude/commands/release.md` for version bumping and tagging<br>
   **Result**: All 49 tests pass. Docker support available via `docker_support: Yes` option. `make docker_build` and `make docker_push` targets available when enabled

48. **Task - Enhance Docker workflow**: Improved Docker targets with proper dependency chain. `docker_build` now depends on `build` target (ensures wheel is built first). `docker_push` depends on `docker_build`. Added `docker_run` target with `--rm` flag for auto-cleanup after container exits. Updated Dockerfile to install from wheel (`dist/*.whl`) instead of copying source code directly. Updated `/opt/utils/lab-utils.d/new-project.sh` to display template version (latest git tag) in cyan before prompting for project name<br>
   **Result**: Docker workflow: `docker_run` -> `docker_build` -> `build`. Container installs from wheel for production-like deployment

49. **Task - Fix copier update compatibility**: Discovered `copier update` fails when old tags are deleted - it needs the original template version (`_commit` in `.copier-answers.yml`) to compute diffs. Updated `/release` command to preserve old tags instead of deleting them. Restored `v2.3.0+stellars47` tag at commit `30eee95` so existing projects can update<br>
   **Result**: Old tags preserved for copier update compatibility. `/release` command updated with IMPORTANT note

50. **Task - Fix venv commands and add example tests**: For uv/virtualenv environments, `pytest`, `mkdocs` and `python` commands were called directly without using the venv path, causing "command not found" errors. Fixed `test` target to use `$(PROJECT_DIR)/.venv/bin/pytest` and `$(PROJECT_DIR)/.venv/bin/python`. Fixed `docs` and `docs_serve` targets to use `$(PROJECT_DIR)/.venv/bin/mkdocs`. Conda targets unchanged (use `conda run`). Changed default test assertions from `assert False` to `assert True` so `make test` passes by default. Enhanced example test templates with comprehensive documentation: pytest version (`tests/pytest/test_data.py`) demonstrates fixtures, parametrized tests, and docstrings; unittest version (`tests/unittest/test_data.py`) demonstrates setUp/tearDown lifecycle, TestCase class, and assertion methods. Post-gen hooks copy appropriate template based on `testing_framework` choice<br>
   **Result**: All Makefile targets correctly use venv binaries. Default tests pass and serve as educational examples for each framework

51. **Task - Fix Docker entrypoint and slim Dockerfile**: Docker container failed with `ImportError: cannot import name '__version__' from module` because module's `__init__.py` doesn't export `__version__`. Fixed `docker/entrypoint.py` to use `importlib.metadata.version()` instead of importing from module. Removed `build-essential` from Dockerfile - not needed for pure Python wheel installs, reduces image size<br>
   **Result**: Docker container runs successfully. Smaller image without unnecessary build tools

52. **Task - Fix Docker entrypoint package name and add tests**: Docker entrypoint used `project_name` for `importlib.metadata.version()` but the installed package is named by `module_name` (e.g., `lib_my_project` not `my-project`). Fixed entrypoint to use `{{ cookiecutter.module_name }}` / `{{ module_name }}`. Moved imports to top of file - `import {{ module_name }}` and `from {{ module_name }}.modeling import predict, train` - instead of lazy imports inside main(). Created `tests/test_docker.py` with two tests: `test_docker_build_and_run` verifies full Docker workflow (build -> docker_build -> docker_run), `test_docker_files_not_present_when_disabled` verifies docker/ folder removed when `docker_support=No`. Tests skip automatically if Docker is not available or not running<br>
   **Result**: Docker entrypoint works correctly with explicit imports. Docker workflow has automated test coverage

53. **Task - Docker entrypoint explicit imports**: Moved module imports to top of `docker/entrypoint.py` - `import {{ module_name }}` and `from {{ module_name }}.modeling import predict, train` - instead of lazy imports inside main(). Cleaner code structure with all dependencies visible at file top<br>
   **Result**: Docker entrypoint has explicit imports following Python best practices

54. **Task - Enhanced Docker configuration**: Added `docker_package_manager` option (`uv` or `pip`) for choosing package installer in Docker image - uv copies binary from `ghcr.io/astral-sh/uv:latest`, pip uses standard `pip install`. Added `ARG PYTHON_VERSION` to Dockerfile with default from project config, allowing override at build time. Makefile Docker variables now use `?=` for environment variable override (`DOCKER_REGISTRY`, `DOCKER_IMAGE_NAME`, `DOCKER_TAG`). Docker build passes `--build-arg PYTHON_VERSION=$(PYTHON_VERSION)` using existing Makefile variable. Updated README.md and stellars-philosophy.md with Docker support documentation including new section "### 7. Docker Support". Conditional prompting: `docker_package_manager` only shown when `docker_support=Yes` (both cookiecutter via monkey_patch.py and copier via `when` clause)<br>
   **Result**: Docker supports uv/pip choice, Python version override via env var, all Docker vars overridable at runtime

55. **Task - Colourful Docker startup message**: Added colourful Docker entrypoint message showing "üê≥ Running inside Docker container" (green) with project name (cyan) and version (yellow). Simple two-line output without frames<br>
   **Result**: Docker container startup clearly indicates execution context with coloured output

56. **Task - Docker tests for uv and pip, fix wheel dependencies**: Expanded `tests/test_docker.py` with separate tests for uv and pip package managers - `test_docker_build_and_run_with_uv` and `test_docker_build_and_run_with_pip`. Tests verify Dockerfile contains correct package manager commands and that container starts with colourful message. Fixed pyproject.toml to always include runtime dependencies in wheel: `python-dotenv` unconditionally, `loguru`/`tqdm`/`typer` when `include_code_scaffold == 'Yes'`. Previously these were only included when `dependency_file == pyproject.toml`, causing Docker builds to fail with missing module errors when using requirements.txt<br>
   **Result**: All 3 Docker tests pass (uv, pip, disabled). All 49 main tests pass. Wheels now include all runtime dependencies regardless of dependency_file choice

57. **Task - Fix test_docker.py linting**: Fixed isort issue (removed blank line between third-party `pytest` and local `conftest` imports) and black formatting (split long assertion lines for 99-char line length compliance)<br>
   **Result**: CI lint passes

58. **Task - PEP 639 license format**: Updated pyproject.toml files to use PEP 639 SPDX license identifiers instead of deprecated `{ file = "LICENSE" }` table format. ccds tool uses `license = "MIT"`, template uses `license = "{{ cookiecutter.open_source_license }}"` which renders to SPDX identifiers (MIT, BSD-3-Clause) based on user selection. Removed `License :: OSI Approved ::` classifiers from both files as PEP 639 requires using either the `license` field OR the classifier, not both - flit_core enforces this strictly<br>
   **Result**: No more setuptools deprecation warning. flit_core build succeeds

59. **Task - Update generated project README**: Simplified README.md template with concise Quick Start (`make install`), Makefile Targets reference list (conditional entries for docs, cloud storage, docker, env encryption), streamlined Project Organization tree, and Best Practices section (notebooks naming, data folder usage, source code refactoring, models storage)<br>
   **Result**: Generated projects have cleaner, more actionable README with guidance

60. **Task - Template sync test and docs**: Added `tests/test_template_sync.py` with 4 tests verifying copier template stays in sync with cookiecutter source - regenerates copier template to temp dir, compares with committed `copier/template/`, fails if differences found with clear instructions to run `build_copier_template.py`. Added "Template Architecture" section to README explaining cookiecutter is master, copier is derived, and sync command required before pushing. Fixed CI failure by adding missing `copier/template/data/*/.gitkeep` and `copier/template/.env` files that weren't tracked in git (needed `-f` force flag due to .gitignore). Removed unused imports from test file<br>
   **Result**: CI catches forgotten template sync. Developer workflow documented. All tests pass

61. **Task - Migrate to copier-only project**: Major migration from dual cookiecutter/copier template to copier-only. Removed all cookiecutter infrastructure: `{{ cookiecutter.repo_name }}/` directory, `ccds/` module, `ccds.json`, `ccds-help.json`, `cookiecutter.json`, `hooks/` directory, `copier/scripts/build_copier_template.py`. Moved `copier/template/` to `template/` at root level. Updated `copier.yml`: changed `_subdirectory: template`, updated `_tasks` script path to `scripts/post_gen.py`. Renamed `copier/scripts/copier_post_gen.py` to `scripts/post_gen.py`. Removed cookiecutter tests: `test_creation.py`, `test_template_sync.py`, `test_github_checkout.py`. Updated `conftest.py` to use copier-only `bake_project()` function with configuration from `CONFIG_OPTIONS` dict. Updated `test_copier.py` and `test_docker.py` to use shared conftest infrastructure. Updated `env_matrix.py` docstring. Updated README.md with copier-only documentation. Updated all docs (index.md, using-the-template.md, copier-support.md, contributing.md) to remove cookiecutter references. Updated CI workflows: `tests.yml` installs copier and removes SKIP_GITHUB_TESTS, `integration-tests.yml` uses `copier copy` instead of `ccds` CLI. Changed remote to `https://github.com/stellarshenson/copier-data-science.git`<br>
   **Result**: Project is now copier-only. All 5 tests pass (fast mode). Template simplified without dual-template maintenance burden

62. **Task - Consolidate to pyproject.toml**: Removed `dev-requirements.txt` and `setup.cfg`, moved all dev dependencies to `pyproject.toml` `[project.optional-dependencies.dev]`. Added tool configs (`[tool.black]`, `[tool.isort]`, `[tool.flake8]`). Updated Makefile `requirements` target to `pip install -e ".[dev]"`. Simplified Makefile by removing unnecessary targets (`create_environment`, `clean-build`, `clean-pyc`, `clean-test`, `_prep`). Added `increment_version` target. Removed `HISTORY.md`, created `CHANGELOG.md` with consolidated history. Rewrote `RELEASING.md` for copier workflow. Updated version scheme to `1.0.PATCH`. Updated all docs with upstream attribution notes (opinions.md, why.md, related.md, v1.md, all-options.md, stellars-philosophy.md). Added official Copier badge and "Inspired by CCDS" badge to README and docs/index.md. Cleaned up `.ipynb_checkpoints` directories<br>
   **Result**: Project fully pyproject.toml driven. Simplified Makefile. All docs have proper upstream attribution. Official badges added

63. **Task - UV venv-based development workflow**: Migrated from flake8+black+isort to ruff for linting/formatting. Updated Makefile with `VENV = .venv`, `PYTHON = $(VENV)/bin/python`, `UV = uv` variables. Added `create_environment` target using `uv venv` and `uv pip install -e ".[dev]"`. All tool invocations now use `.venv/bin/` paths (`ruff`, `pytest`). Updated `pyproject.toml` with `[tool.ruff]` config (line-length: 99, select E/F/I/W, ignore E501). Updated `.github/workflows/tests.yml` to use `make create_environment` and `make lint`/`make test`. Added `jinja2-time` to dev dependencies for copier template requirements<br>
   **Result**: All 5 tests pass locally. CI uses uv venv for consistent environment. Ruff replaces flake8+black+isort

64. **Task - CI fixes for copier-only workflow**: Multiple fixes for CI test failures. (1) Added `get_copier_cmd()` helper to `conftest.py` that finds copier in `.venv/bin/` or system PATH - tests now use venv copier. (2) Removed tomlkit dependency from `scripts/post_gen.py` - replaced with regex-based `write_python_version()` using only stdlib modules, since copier runs post-gen script with system python not venv. (3) Added `--vcs-ref HEAD` to all copier commands in `conftest.py` and `integration-tests.yml` to use current working tree instead of latest git tag. (4) Force-added missing template files that were in `.gitignore`: `template/.env` and `template/data/*/.gitkeep`<br>
   **Result**: All CI tests pass. Template generates correctly with data directories

65. **Task - Update README badges**: Added integration-tests workflow badge, KOLOMOLO badge, and PayPal donate badge to README.md. Removed redundant tests badge (keeping only integration-tests)<br>
   **Result**: README has comprehensive badges showing CI status, template engine, attribution, and support options

66. **Task - Exclude .ipynb_checkpoints from sync**: Added exclusion patterns to all data and models sync commands in template Makefile. AWS S3 uses `--exclude "*/.ipynb_checkpoints/*"`, Azure uses `--pattern "*" --exclude-pattern "*/.ipynb_checkpoints/*"`, GCS uses `-x ".*\.ipynb_checkpoints.*"`. Also cleaned up old git tags (v2.x.x, STABLE_*, RELEASE_*, CHECKPOINT_*, BACKUP_*, v1) leaving only v1.0.63-65<br>
   **Result**: Sync commands no longer upload/download Jupyter checkpoint files

67. **Task - Use placeholder hints instead of defaults**: Updated `copier.yml` to use empty defaults with `placeholder` hints for user input fields instead of pre-populated default text. Changed `author_name`, `description`, `s3_bucket`, `azure_container`, `gcs_bucket` to have empty defaults with descriptive `help` text and `placeholder` values. Users no longer need to delete placeholder text when entering values<br>
   **Result**: Cleaner UX - hints shown but not pre-filled. Bumped version to 1.1.0

68. **Task - Add register_environment target** (v1.1.1): Added `register_environment` Makefile target to re-register Jupyter kernel without recreating the environment. Target available when `jupyter_kernel_support == 'Yes'`. Implemented for all three environment managers: conda (local and global), virtualenv, and uv. Checks if environment exists first, uses `nb_conda_kernels`/`nb_venv_kernels` if available, falls back to `ipykernel` for manual registration. Allows users to re-register kernel if it was accidentally unregistered or needs refresh<br>
   **Result**: `make register_environment` now available to re-register Jupyter kernel independently of environment creation
